<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Debug Notification</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
</head>

<body style="padding: 50px;">
  <h1>Debug Notification System</h1>
  <button class="btn btn-primary" onclick="testConfirm()">Test Confirm</button>

  <div id="debug-info" class="mt-3"></div>

  <script src="js/main.js?v=2.0"></script>

  <script>
    function testConfirm() {
      console.log('=== TEST CONFIRM START ===');

      showNotification('Test message - bạn có chắc?', 'confirm', function () {
        console.log('CALLBACK EXECUTED!');
        alert('Callback worked!');
      });

      // Check after 100ms
      setTimeout(() => {
        const container = document.getElementById('nnb-notification-container');
        console.log('Container:', container);
        console.log('Container HTML:', container ? container.innerHTML : 'NOT FOUND');

        const buttons = document.querySelectorAll('.nnb-confirm-btn, .nnb-cancel-btn');
        console.log('Found buttons:', buttons.length);
        buttons.forEach((btn, i) => {
          console.log(`Button ${i}:`, btn);
          console.log(`  - data-id:`, btn.getAttribute('data-id'));
          console.log(`  - visible:`, window.getComputedStyle(btn).display);
        });

        console.log('Callbacks storage:', window.__notificationCallbacks);

        // Display debug info
        document.getElementById('debug-info').innerHTML = `
          <div class="alert alert-info">
            <strong>Debug Info:</strong><br>
            Container exists: ${!!container}<br>
            Buttons found: ${buttons.length}<br>
            Callbacks stored: ${Object.keys(window.__notificationCallbacks).length}
          </div>
        `;
      }, 100);
    }
  </script>
</body>

</html>